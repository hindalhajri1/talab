<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>

  <!-- Ø®Ø· Ø¹Ø±Ø¨ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --border:#e5e7eb;
      --brand:#5b2ea6;   /* Ù‚Ø±ÙŠØ¨ Ù…Ù† Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ Ø¨Ø§Ù„Ù…Ø«Ø§Ù„ */
      --brand2:#7a43d1;
      --ok:#16a34a;
      --warn:#f59e0b;
      --shadow: 0 10px 24px rgba(17,24,39,.06);
      --r:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Tajawal", system-ui, -apple-system, Segoe UI, Arial;
      background:var(--bg);
      color:var(--text);
    }
    .container{
      max-width:1100px;
      margin:24px auto;
      padding:0 16px;
    }

    /* Hero */
    .hero{
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      color:#fff;
      border-radius:22px;
      padding:22px 22px;
      box-shadow: var(--shadow);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .hero h1{margin:0;font-size:24px;font-weight:800}
    .hero p{margin:6px 0 0;color:rgba(255,255,255,.85);font-size:14px}
    .hero .actions{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    }
    .btn{
      border:0;
      padding:10px 14px;
      border-radius:12px;
      cursor:pointer;
      font-weight:700;
      font-size:14px;
    }
    .btn.light{background:rgba(255,255,255,.18); color:#fff}
    .btn.white{background:#fff; color:var(--brand)}
    .btn:active{transform:translateY(1px)}

    /* cards */
    .grid{
      margin-top:16px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
    }
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--r);
      padding:14px;
      box-shadow: 0 6px 16px rgba(17,24,39,.04);
    }
    .stat{
      grid-column: span 3;
      display:flex; align-items:center; justify-content:space-between;
      gap:12px;
    }
    .stat .meta{display:flex; flex-direction:column; gap:6px;}
    .stat .label{color:var(--muted); font-size:13px; font-weight:600;}
    .stat .value{font-size:26px; font-weight:900;}
    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      font-weight:800;
      background:#eef2ff;
      color:#3730a3;
      white-space:nowrap;
    }
    .iconbox{
      width:44px;height:44px;border-radius:14px;
      display:grid;place-items:center;
      background:#f3f4f6;
    }

    /* sections */
    .section-title{
      margin:18px 0 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .section-title h2{
      margin:0;
      font-size:16px;
      font-weight:900;
      color:#111827;
    }
    .section-title .sub{
      font-size:13px;
      color:var(--muted);
      font-weight:600;
    }

    /* table */
    table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      overflow:hidden;
      border-radius:14px;
    }
    thead th{
      text-align:right;
      font-size:13px;
      color:var(--muted);
      font-weight:800;
      background:#fafafa;
      border-bottom:1px solid var(--border);
      padding:12px 10px;
    }
    tbody td{
      padding:12px 10px;
      border-bottom:1px solid var(--border);
      font-weight:600;
      font-size:14px;
      vertical-align:middle;
      background:#fff;
    }
    tbody tr:last-child td{border-bottom:0}
    .status{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      font-weight:900;
      font-size:12px;
      border:1px solid var(--border);
      background:#fff;
    }
    .dot{width:8px;height:8px;border-radius:50%;}
    .s-pending .dot{background:var(--warn)}
    .s-confirmed .dot{background:var(--ok)}
    .s-pending{color:#92400e}
    .s-confirmed{color:#166534}
    .s-canceled .dot{background:#ef4444}
.s-canceled{color:#991b1b}



    /* WhatsApp button */
    .wa{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid #d1fae5;
      background:#ecfdf5;
      color:#065f46;
      font-weight:900;
      text-decoration:none;
      font-size:13px;
      white-space:nowrap;
    }
    .wa:hover{filter:brightness(.98)}
    .wa svg{width:16px;height:16px}

    /* responsive */
    @media (max-width: 980px){
      .stat{grid-column: span 6;}
    }
    @media (max-width: 640px){
      .hero{flex-direction:column; align-items:flex-start}
      .stat{grid-column: span 12;}
      thead{display:none}
      table, tbody, tr, td{display:block; width:100%}
      tbody td{border-bottom:0}
      tbody tr{border-bottom:1px solid var(--border)}
      tbody td[data-label]::before{
        content: attr(data-label) " : ";
        color:var(--muted);
        font-weight:900;
      }
    }


    .city-card{
      grid-column: span 3;
      background:#fff;
      border:1px solid var(--border);
      border-radius:18px;
      padding:14px;
      box-shadow: 0 6px 16px rgba(17,24,39,.05);
      text-align:center;
    }
    
    .city-name{
      font-weight:900;
      margin-bottom:10px;
    }
    
    .circle{
      width:90px;
      height:90px;
      border-radius:50%;
      margin:0 auto 10px;
      display:grid;
      place-items:center;
      font-weight:900;
      font-size:14px;
      color:#111827;
      background:
        conic-gradient(
          var(--ok) calc(var(--p) * 1%),
          #e5e7eb 0
        );
    }
    
    .city-meta{
      font-size:12px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      margin-top:6px;
    }
    
  </style>
</head>

<body>
  <div class="container">

    <div class="hero">
      <div>
        <h1 id="hello">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ğŸ‘‹</h1>
        <p id="updated">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: â€”</p>
      </div>
      <div class="actions">
        <button class="btn light" id="btnRefresh">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        <button class="btn white" id="btnNewForm" type="button">+ Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ±Ù…</button>
        <a class="btn white" href="/" style="text-decoration:none;">ÙØªØ­ Ø§Ù„ÙÙˆØ±Ù…</a>
      </div>
    </div>

    <!-- Stats -->
    <div class="grid">
      <div class="card stat">
        <div class="meta">
          <div class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
          <div class="value" id="total">â€”</div>
        </div>
        <div class="iconbox" title="Ø¥Ø¬Ù…Ø§Ù„ÙŠ">
          <!-- icon -->
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 3h18v6H3z"/><path d="M3 15h18v6H3z"/><path d="M3 9h18v6H3z"/>
          </svg>
        </div>
      </div>

      <div class="card stat">
        <div class="meta">
          <div class="label">Ù…Ø¤ÙƒØ¯Ø©</div>
          <div class="value" id="confirmed">â€”</div>
        </div>
        <div class="pill" style="background:#ecfdf5;color:#166534;">ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯</div>
      </div>

      <div class="card stat">
        <div class="meta">
          <div class="label">Ù…Ø¹Ù„Ù‘Ù‚Ø©</div>
          <div class="value" id="pending">â€”</div>
        </div>
        <div class="pill" style="background:#fffbeb;color:#92400e;">ØªØ­ØªØ§Ø¬ Ù…ØªØ§Ø¨Ø¹Ø©</div>
      </div>

      <div class="card stat">
        <div class="meta">
          <div class="label">Ù…Ù„ØºÙŠØ©</div>
          <div class="value" id="canceled">â€”</div>
        </div>
        <div class="pill" style="background:#fef2f2;color:#991b1b;">ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡</div>
      </div>
      
      <div class="card stat">
        <div class="meta">
          <div class="label">Ø§Ù„Ù…Ø¯Ù†</div>
          <div class="value" id="citiesCount">â€”</div>
        </div>
        <div class="iconbox" title="Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 21s7-4.5 7-10a7 7 0 0 0-14 0c0 5.5 7 10 7 10z"/>
            <circle cx="12" cy="11" r="2"/>
          </svg>
        </div>
      </div>
    </div>

    <!-- By City -->
    <div class="section-title">
      <h2>Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</h2>
      <div class="sub" id="cityHint">â€”</div>
    </div>
    <div class="grid" id="citiesGrid">
            <table>
        <thead>
          <tr>
            <th>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</th>
            <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
            <th>Ù…Ø¤ÙƒØ¯Ø©</th>
            <th>Ù…Ø¹Ù„Ù‘Ù‚Ø©</th>
          </tr>
        </thead>
        <tbody id="byCityBody"></tbody>
      </table>
    </div>

    <!-- Latest -->
    <div class="section-title">
      <h2>Ø¢Ø®Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
      <div class="sub">Ø§Ø¶ØºØ· ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹</div>
    </div>
    <div class="card">
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</th>
            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
            <th>ÙˆØ§ØªØ³Ø§Ø¨</th>
          </tr>
        </thead>
        <tbody id="latestBody"></tbody>
      </table>
    </div>

  </div>

<div id="modalBack" style="position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;place-items:center;padding:18px;z-index:9999">
  <div style="width:min(520px,100%);background:#fff;border-radius:18px;padding:16px;border:1px solid #e5e7eb">
    <h3 style="margin:0 0 10px;font-weight:900">Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ±Ù… Ø¬Ø¯ÙŠØ¯</h3>
    <div style="display:flex;flex-direction:column;gap:10px">
      <div>
        <label style="font-weight:900;display:block;margin-bottom:6px">Ø§Ø³Ù… Ø§Ù„ÙÙˆØ±Ù…</label>
        <input id="newFormName" style="width:100%;padding:12px;border-radius:12px;border:1px solid #e5e7eb;font-family:inherit" placeholder="Ù…Ø«Ø§Ù„: Ø·Ù„Ø¨Ø§Øª Ø±Ù…Ø¶Ø§Ù†" />
      </div>
      <div>
        <label style="font-weight:900;display:block;margin-bottom:6px">Slug (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <input id="newFormSlug" style="width:100%;padding:12px;border-radius:12px;border:1px solid #e5e7eb;font-family:inherit" placeholder="ramadan-requests" />
        <div style="color:#6b7280;font-size:12px;margin-top:6px">Ù„Ùˆ ØªØ±ÙƒØªÙŠÙ‡ ÙØ§Ø¶ÙŠ Ø¨Ù†ÙˆÙ„Ø¯Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.</div>
      </div>

      <div id="newFormMsg" style="display:none;padding:10px;border-radius:12px;border:1px solid #e5e7eb;background:#fafafa;font-weight:900"></div>

      <div style="display:flex;gap:10px;justify-content:flex-start;margin-top:6px">
        <button class="btn white" id="btnCreateForm" type="button">Ø¥Ù†Ø´Ø§Ø¡</button>
        <button class="btn light" id="btnCloseModal" type="button">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
    </div>
  </div>
</div>

<script>
  // âœ… Ø¹Ø¯Ù‘Ù„ÙŠÙ‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ø­Ø³Ø¨ Ø·Ø±ÙŠÙ‚Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„
  const CLIENT_NAME = "Ø§Ù„Ø¹Ù…ÙŠÙ„";
  function num(n){
    return Number(n || 0).toLocaleString("en-US");
  }
  
  function fmtDate(iso){
    try{
      const d = new Date(iso);
      return d.toLocaleString("en-US", {
        year: "numeric",
        month: "short",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit",
        hour12: false
      });
      
    }catch(e){ return iso || "-" }
  }

  function statusBadge(status){
    const s = String(status || "").toLowerCase();
  
    if (s === "confirmed" || s === "received") {
      return '<span class="status s-confirmed"><span class="dot"></span>Ù…Ø¤ÙƒØ¯</span>';
    }
  
    if (s === "canceled" || s === "cancelled") {
      return '<span class="status s-canceled"><span class="dot"></span>Ù…Ù„ØºÙŠ</span>';
    }
  
    return '<span class="status s-pending"><span class="dot"></span>Ù…Ø¹Ù„Ù‚</span>';
  }
  
  

  function waLink(mobile, name, token){
    if(!mobile || !token) return "-";
  
    let m = String(mobile).trim();
  
    // ØªÙˆØ­ÙŠØ¯ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„
    if(m.startsWith("05")) m = "966" + m.slice(1);
    if(m.startsWith("5") && m.length === 9) m = "966" + m;
    m = m.replace(/[^\d]/g, "");
  
    const confirmUrl = `https://talab.hindtech.sa/confirm.html?token=${token}`;
  
    const msg = encodeURIComponent(
  `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${name || ""} 
  ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­.
  
  Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø·:
  ${confirmUrl}`
    );
  
    return `https://wa.me/${m}?text=${msg}`;
  }
  

  async function loadUser() {
  try {
    const res = await fetch("/api/me");
    if (!res.ok) throw new Error("unauthorized");

    const u = await res.json();

    const name =
      (u.name && u.name !== "Ù…Ø³ØªØ®Ø¯Ù…")
        ? u.name
        : (u.email ? u.email.split("@")[0] : "Ù…Ø³ØªØ®Ø¯Ù…");

    return { name, email: u.email || "" };
  } catch {
    return { name: "Ù…Ø³ØªØ®Ø¯Ù…", email: "" };
  }
}

  
  async function loadDashboard(){
    const user = await loadUser();
  
    const res = await fetch("/api/stats");
    if(!res.ok){
      document.body.innerHTML = "ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª";
      return;
    }
  
    const data = await res.json();
  
    // Header
    document.getElementById("hello").textContent =
      `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒØŒ ${user.name} ğŸ‘‹`;
    document.getElementById("updated").textContent =
  `Last update: ${new Date().toLocaleString("en-US")}`;

    // Cards
    document.getElementById("total").textContent = data?.cards?.total ?? 0;
    document.getElementById("confirmed").textContent = data?.cards?.confirmed ?? 0;
    document.getElementById("pending").textContent = data?.cards?.pending ?? 0;
    document.getElementById("citiesCount").textContent = (data?.byCity?.length ?? 0);
    document.getElementById("cityHint").textContent = `Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¯Ù†: ${(data?.byCity?.length ?? 0)}`;
    document.getElementById("canceled").textContent = data?.cards?.canceled ?? 0;
    document.getElementById("total").textContent = num(data.cards.total);



    // By City table
    const citiesGrid = document.getElementById("citiesGrid");
citiesGrid.innerHTML = (data.byCity || []).map(c => {
  const total = c.total || 0;
  const confirmed = c.confirmed || 0;
  const percent = total ? Math.round((confirmed / total) * 100) : 0;

  return `
    <div class="city-card">
      <div class="city-name">${c.city || "-"}</div>

      <div class="circle" style="--p:${percent}">
        ${percent}%
      </div>

      <div class="city-meta">
        <span>Confirmed: ${confirmed}</span>
        <span>Total: ${total}</span>
      </div>
    </div>
  `;
}).join("");


    // Latest table
    const latestBody = document.getElementById("latestBody");
    latestBody.innerHTML = (data.latest || []).map(r => `
      <tr>
        <td data-label="#">${r.id}</td>
        <td data-label="Ø§Ù„Ø§Ø³Ù…">${r.name || "-"}</td>
        <td data-label="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">${r.city || "-"}</td>
        <td data-label="Ø§Ù„Ø­Ø§Ù„Ø©">${statusBadge(r.status)}</td>
        <td data-label="Ø§Ù„ØªØ§Ø±ÙŠØ®">${fmtDate(r.created_at)}</td>
     <td data-label="ÙˆØ§ØªØ³Ø§Ø¨">
  ${(r.mobile && r.token) ? `
    <a class="wa"
       target="_blank"
       rel="noopener"
       href="${waLink(r.mobile, r.name, r.token)}">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M20.5 3.5A11 11 0 0 0 3.3 18.7L2 22l3.4-1.2A11 11 0 0 0 20.5 3.5ZM12 20a9 9 0 0 1-4.6-1.3l-.3-.2-2 .7.7-2-.2-.3A9 9 0 1 1 12 20Zm5-6.1c-.3-.1-1.7-.8-2-1s-.5-.1-.7.1-.8 1-.9 1.2-.3.2-.6.1a7.4 7.4 0 0 1-2.2-1.4 8.2 8.2 0 0 1-1.5-1.9c-.1-.3 0-.5.1-.6l.4-.5c.1-.2.2-.3.3-.5s0-.3 0-.5-.7-1.7-1-2.3c-.3-.6-.6-.5-.7-.5h-.6c-.2 0-.5.1-.7.3s-1 1-1 2.4 1 2.8 1.1 3 .3.5.5.8a11 11 0 0 0 4.2 3.8c.6.3 1.1.5 1.5.7.6.2 1.1.2 1.5.1.5-.1 1.7-.7 1.9-1.3s.2-1.1.1-1.3-.2-.1-.5-.3Z"/>
      </svg>
      ÙˆØ§ØªØ³Ø§Ø¨
    </a>
  ` : `<span style="color:#9ca3af">ØºÙŠØ± Ù…ØªØ§Ø­</span>`}
</td>


      </tr>
    `).join("");
  }

  document.getElementById("btnRefresh").addEventListener("click", loadDashboard);
  

  const modalBack = document.getElementById("modalBack");
const btnNewForm = document.getElementById("btnNewForm");
const btnCloseModal = document.getElementById("btnCloseModal");
const btnCreateForm = document.getElementById("btnCreateForm");
const newFormName = document.getElementById("newFormName");
const newFormSlug = document.getElementById("newFormSlug");
const newFormMsg = document.getElementById("newFormMsg");

function openModal(){
  modalBack.style.display = "grid";
  newFormMsg.style.display = "none";
  newFormName.value = "";
  newFormSlug.value = "";
}
function closeModal(){
  modalBack.style.display = "none";
}

btnNewForm?.addEventListener("click", openModal);
btnCloseModal?.addEventListener("click", closeModal);
modalBack?.addEventListener("click", (e)=>{ if(e.target === modalBack) closeModal(); });

async function createForm(){
  newFormMsg.style.display = "block";
  newFormMsg.style.background = "#fafafa";
  newFormMsg.style.borderColor = "#e5e7eb";
  newFormMsg.textContent = "Ø¬Ø§Ø±Ù Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ±Ù…...";

  const payload = {
    name: newFormName.value.trim(),
    slug: newFormSlug.value.trim()
  };

  const res = await fetch("/api/forms-create", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload),
    credentials: "include"
  });

  const data = await res.json().catch(()=> ({}));

  if(!res.ok || !data.ok){
    let msg = data.error || "ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ±Ù…";
    if(msg === "SLUG_EXISTS") msg = "Ø§Ù„Ù€ slug Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¨Ù‚Ø§Ù‹ØŒ ØºÙŠØ±ÙŠÙ‡.";
    if(msg === "NAME_REQUIRED") msg = "Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù… Ø§Ù„ÙÙˆØ±Ù….";
    newFormMsg.style.background = "#fef2f2";
    newFormMsg.style.borderColor = "#fecaca";
    newFormMsg.textContent = msg;
    return;
  }

  newFormMsg.style.background = "#ecfdf5";
  newFormMsg.style.borderColor = "#bbf7d0";
  newFormMsg.textContent = `âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ±Ù…: ${data.form.name}`;

  // Ù†Ø­Ø¯Ù‘Ø« Ø§Ù„Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ (ÙˆØ¨Ø¹Ø¯ÙŠÙ† Ø¨Ù†Ø¶ÙŠÙ Ù‚Ø§Ø¦Ù…Ø© ÙÙˆØ±Ù…Ø§ØªÙŠ ÙÙŠ UI)
  setTimeout(()=>{ closeModal(); }, 500);
  loadDashboard();
}

btnCreateForm?.addEventListener("click", createForm);

  loadDashboard();

  
</script>

</body>
</html>
